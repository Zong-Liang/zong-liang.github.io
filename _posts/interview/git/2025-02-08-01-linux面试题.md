---
title: "01-Git面试题"
date: 2025-02-14 14:14:48 +0800
categories: [面试题, Git面试题]
tags: [面试八股, Git面试题]
pin: false
toc: true
math: true
---

## Git 常用命令有哪些？⭐⭐⭐⭐⭐

Git 是目前应用最广泛的分布式版本控制系统，熟练掌握其命令是每一位开发者的基本功。我习惯于将 Git 的常用命令按照一个典型的工作流来划分，这样更有助于理解和记忆。

### 1. 初始化与配置 (Setup & Configuration)

这是开始使用 Git 的第一步。

- **`git config`**: 配置 Git 的全局或项目级别的设置。最重要的就是设置你的身份，因为每一次提交都会记录这个信息。
  - **示例**:
    ```bash
    git config --global user.name "Your Name"
    git config --global user.email "your.email@example.com"
    ```

### 2. 获取与创建项目 (Getting a Repository)

- **`git init`**: 在一个现有项目的目录中，初始化一个新的 Git 仓库。这会创建一个 `.git` 子目录，其中包含了仓库的所有元数据。
  - **示例**:
    ```bash
    cd my_project
    git init
    ```
- **`git clone`**: 从一个远程服务器（如 GitHub, GitLab）克隆一个已经存在的仓库到本地。这是参与现有项目最常见的方式。
  - **示例**:
    ```bash
    git clone https://github.com/user/repository.git
    ```

### 3. 日常核心工作流 (The Core Workflow)

这三个命令构成了最基本、最频繁的日常操作循环。

- **`git add`**: 将工作目录中的文件修改添加到**暂存区 (Staging Area)**。暂存区是一个非常重要的概念，它允许你精确地选择哪些改动要包含在下一次提交中。
  - **示例**:
    ```bash
    git add file1.txt          # 暂存单个文件
    git add .                  # 暂存当前目录下所有修改
    git add -p                 # 交互式地选择要暂存的代码块
    ```
- **`git commit`**: 将暂存区中的所有内容生成一次新的**提交 (Commit)**，并永久性地保存在本地仓库的历史记录中。每一次提交都应该是一个逻辑上完整的变更单元，并且附带清晰的提交信息。
  - **示例**:
    ```bash
    git commit -m "Fix: correct the login validation logic"
    git commit                 # 会打开文本编辑器让你输入更详细的提交信息
    ```
- **`git push`**: 将本地仓库的提交推送到远程仓库，以便与团队成员共享。
  - **示例**:
    ```bash
    git push origin main       # 将本地的 main 分支推送到名为 origin 的远程仓库
    ```

### 4. 分支管理 (Branching)

分支是 Git 的精髓，它让并行开发变得简单而安全。

- **`git branch`**: 管理分支的命令。
  - **示例**:
    ```bash
    git branch                 # 列出所有本地分支
    git branch new-feature     # 创建一个名为 new-feature 的新分支
    git branch -d feature-x    # 删除一个已经合并的分支
    ```
- **`git switch`** (推荐) 或 **`git checkout`**: 切换到不同的分支。
  - **示例**:
    ```bash
    git switch main            # 切换到 main 分支
    git switch -c new-feature  # 创建并立即切换到 new-feature 分支 (等同于 git checkout -b)
    ```
- **`git merge`**: 将一个分支的历史记录合并到当前分支。
  - **示例**:
    ```bash
    git switch main            # 首先切换到接受合并的目标分支
    git merge new-feature      # 然后将 new-feature 分支合并进来
    ```
- **`git rebase`**: 变基，是合并的另一种选择。它可以将一系列提交应用到另一个基底上，从而创建更线性的提交历史。我通常用它来在推送前整理我自己的本地提交记录。

### 5. 远程与同步 (Remotes & Syncing)

- **`git pull`**: 从远程仓库拉取最新的变更并自动与本地分支合并。它实际上是 `git fetch` 和 `git merge` 两条命令的快捷方式。
  - **示例**:
    ```bash
    git pull origin main
    ```
- **`git fetch`**: 只从远程仓库下载最新的变更数据，但**不**会自动合并。这给了我机会在合并前先查看远程的变更，是一个更安全的操作。
  - **示例**:
    ```bash
    git fetch origin           # 获取 origin 远程的所有更新
    ```
- **`git remote`**: 管理配置的远程仓库。
  - **示例**:
    ```bash
    git remote -v              # 显示所有远程仓库的详细信息
    git remote add upstream [URL] # 添加一个新的上游远程仓库
    ```

### 6. 查看与检查 (Inspection & History)

- **`git status`**: 显示工作目录和暂存区的状态。这是我用得最多的命令之一，它能清晰地告诉我哪些文件被修改了、哪些文件已暂存。
- **`git log`**: 显示从近到远的提交历史记录。
  - **示例**:
    ```bash
    git log
    git log --oneline --graph --decorate  # 以单行、图形化的方式显示分支和标签
    ```
- **`git diff`**: 显示文件内容的差异。
  - **示例**:
    ```bash
    git diff                   # 查看工作目录中尚未暂存的修改
    git diff --staged          # 查看已暂存但尚未提交的修改
    git diff main..feature     # 比较两个分支之间的差异
    ```

### 7. 撤销操作 (Undoing Changes)

人都会犯错，Git 提供了强大的工具来修正错误。

- **`git restore`** (推荐): 用于撤销工作目录中的修改或者取消暂存。
  - **示例**:
    ```bash
    git restore file.txt       # 丢弃在工作目录中对 file.txt 的修改
    git restore --staged file.txt # 将 file.txt 从暂存区移回工作目录
    ```
- **`git reset`**: 这是一个更强大的命令，可以重置当前分支的指针到指定的提交，同时根据参数 (`--soft`, `--mixed`, `--hard`) 影响暂存区和工作目录。我使用它时会格外小心，特别是 `--hard` 选项会丢失工作。
- **`git revert`**: 创建一个新的提交，用以撤销某一次指定的历史提交。这种方式是安全的，因为它不修改现有的提交历史，非常适合在共享分支上撤销错误。
- **`git stash`**: 当我正在一个分支上工作，但需要紧急切换到另一个分支修复问题时，我会用 `git stash` 将当前未提交的修改（包括暂存的）临时保存起来。处理完紧急问题后，再切回来用 `git stash pop` 恢复之前的工作。
