---
title: 11. 盛最多水的容器
date: 2024-04-20 06:00:00 +0800
categories: [Daily Coding, Top Interview 150, 双指针]
tags: [双指针]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121223915220.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

## 题目：11. 盛最多水的容器

**描述**

给定一个长度为 `n` 的整数数组 `height` 。有 `n` 条垂线，第 `i` 条线的两个端点是 `(i, 0)` 和 `(i, height[i])` 。

找出其中的两条线，使得它们与 `x` 轴共同构成的容器可以容纳最多的水。

返回容器可以储存的最大水量。

**说明：** 你不能倾斜容器。

**示例 1:**

- **输入:** `[1,8,6,2,5,4,8,3,7]`
- **输出:** 49
- **解释:** 图中垂直线代表输入数组 `[1,8,6,2,5,4,8,3,7]`。在此情况下，容器能够容纳水（表示为蓝色部分）的最大值为 49。

**示例 2:**

- **输入:** `height = [1,1]`
- **输出:** 1

**提示:**

- `n == height.length`
- `2 <= n <= 10^5`
- `0 <= height[i] <= 10^4`

## 题解

```java
import java.util.Arrays;

public class Main {

    /**
     * 找出两条线构成的能容纳最多水的容器。
     * 采用双指针法，时间复杂度为 O(n)。
     *
     * @param height 代表垂线高度的数组
     * @return 容器可以储存的最大水量
     */
    public static int maxArea(int[] height) {
        if (height == null || height.length < 2) {
            return 0;
        }

        int maxArea = 0;
        // left 指向数组的开头
        int left = 0;
        // right 指向数组的末尾
        int right = height.length - 1;

        while (left < right) {
            // 容器的宽度
            int width = right - left;
            // 容器的高度由较短的垂线决定
            int h = Math.min(height[left], height[right]);

            // 计算当前面积
            int currentArea = width * h;

            // 更新最大面积
            maxArea = Math.max(maxArea, currentArea);

            // 核心思想：移动指向较短垂线的指针
            // 因为移动较长垂线的指针，宽度变小，高度不可能变大，面积只会更小或不变
            // 移动较短垂线的指针，才有可能找到更高的垂线，从而获得更大的面积
            if (height[left] < height[right]) {
                left++;
            } else {
                right--;
            }
        }

        return maxArea;
    }

    public static void main(String[] args) {
        // 示例 1
        int[] height1 = {1, 8, 6, 2, 5, 4, 8, 3, 7};
        System.out.println("输入: " + Arrays.toString(height1));
        System.out.println("输出: " + maxArea(height1)); // 预期: 49
        System.out.println("---");

        // 示例 2
        int[] height2 = {1, 1};
        System.out.println("输入: " + Arrays.toString(height2));
        System.out.println("输出: " + maxArea(height2)); // 预期: 1
        System.out.println("---");
    }
}
```
