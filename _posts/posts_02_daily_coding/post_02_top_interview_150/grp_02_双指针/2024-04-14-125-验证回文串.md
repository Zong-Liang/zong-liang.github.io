---
title: 125. 验证回文串
date: 2024-04-14 06:00:00 +0800
categories: [Daily Coding, Top Interview 150, 双指针]
tags: [双指针]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121223658589.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

## 题目：125. 验证回文串

**描述**

如果在将所有大写字符转换为小写字符、并移除所有非字母数字字符之后，短语正着读和反着读都一样。则可以认为该短语是一个 **回文串** 。

字母和数字都属于字母数字字符。

给你一个字符串 `s`，如果它是 **回文串** ，返回 `true` ；否则，返回 `false` 。

**示例 1:**

- **输入:** `s = "A man, a plan, a canal: Panama"`
- **输出:** `true`
- **解释:** `"amanaplanacanalpanama"` 是回文串。

**示例 2:**

- **输入:** `s = "race a car"`
- **输出:** `false`
- **解释:** `"raceacar"` 不是回文串。

**示例 3:**

- **输入:** `s = " "`
- **输出:** `true`
- **解释:** 在移除除非字母数字字符之后，`s` 是一个空字符串 `""` 。由于空字符串正着反着读都一样，所以是回文串。

**提示:**

- `1 <= s.length <= 2 * 10^5`
- `s` 仅由可打印的 ASCII 字符组成

## Java 代码

```java
public class Main {

    /**
     * 验证一个字符串是否是回文串（只考虑字母和数字，忽略大小写）。
     * 采用双指针法，从两端向中间比较。
     *
     * @param s 输入的字符串
     * @return 如果是回文串返回 true，否则返回 false
     */
    public static boolean isPalindrome(String s) {
        if (s == null || s.length() == 0) {
            return true;
        }

        // left 指针从头开始
        int left = 0;
        // right 指针从尾部开始
        int right = s.length() - 1;

        while (left < right) {
            // 从左向右找到第一个字母或数字
            while (left < right && !Character.isLetterOrDigit(s.charAt(left))) {
                left++;
            }
            // 从右向左找到第一个字母或数字
            while (left < right && !Character.isLetterOrDigit(s.charAt(right))) {
                right--;
            }

            // 如果左右指针还未相遇，则比较字符
            if (left < right) {
                // 将两个字符都转换为小写进行比较
                if (Character.toLowerCase(s.charAt(left)) != Character.toLowerCase(s.charAt(right))) {
                    // 如果不相等，则不是回文串
                    return false;
                }
                // 移动指针，继续下一轮比较
                left++;
                right--;
            }
        }

        // 如果循环结束都没有返回 false，说明是回文串
        return true;
    }

    public static void main(String[] args) {
        // 示例 1
        String s1 = "A man, a plan, a canal: Panama";
        System.out.println("输入: \"" + s1 + "\"");
        System.out.println("输出: " + isPalindrome(s1)); // 预期: true
        System.out.println("---");

        // 示例 2
        String s2 = "race a car";
        System.out.println("输入: \"" + s2 + "\"");
        System.out.println("输出: " + isPalindrome(s2)); // 预期: false
        System.out.println("---");

        // 示例 3
        String s3 = " ";
        System.out.println("输入: \"" + s3 + "\"");
        System.out.println("输出: " + isPalindrome(s3)); // 预期: true
        System.out.println("---");
    }
}
```
