---
title: 136. 只出现一次的数字
date: 2024-11-02 06:00:00 +0800
categories: [Daily Coding, Top Interview 150, 位运算]
tags: [位运算]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121235105566.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

## 题目：136. 只出现一次的数字

给你一个 **非空** 整数数组 `nums`，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现了一次的元素。

你必须设计并实现线性时间复杂度的算法来解决此问题，且该算法只使用常数量额外空间。

**示例 1:**

- **输入:** `nums = [2,2,1]`
- **输出:** 1

**示例 2:**

- **输入:** `nums = [4,1,2,1,2]`
- **输出:** 4

**示例 3:**

- **输入:** `nums = [1]`
- **输出:** 1

**提示:**

- `1 <= nums.length <= 3 * 10^4`
- `-3 * 10^4 <= nums[i] <= 3 * 10^4`
- 除了某个元素只出现一次以外，其余每个元素均出现两次。

## 题解

**算法思路：(位运算 - 异或)**

为了同时满足线性的时间复杂度和常数的空间复杂度，最理想的方法是使用位运算中的 **异或 (XOR)** 操作。

异或运算有以下关键性质：

1.  任何数和 0 进行异或运算，结果是其本身：`a ^ 0 = a`
2.  任何数和其自身进行异或运算，结果是 0：`a ^ a = 0`
3.  异或运算满足交换律和结合律：`a ^ b ^ a = (a ^ a) ^ b = 0 ^ b = b`

根据这些性质，我们可以将数组中所有的数字进行异或运算。成对出现的数字会因为 `a ^ a = 0` 而相互抵消。最终，只剩下那个只出现一次的数字与 0 进行异或运算，结果就是那个数字本身。

```java
import java.util.Arrays;


public class Main {

    /**
     * 找出数组中只出现一次的元素。
     *
     * @param nums 整数数组，其中一个元素出现一次，其余出现两次。
     * @return 只出现一次的那个元素。
     */
    public static int singleNumber(int[] nums) {
        int result = 0;
        // 对数组中所有元素执行异或操作
        for (int num : nums) {
            result ^= num;
        }
        // 最终结果就是那个只出现一次的数字
        return result;
    }


    public static void main(String[] args) {
        System.out.println("--- 示例 1 ---");
        int[] nums1 = {2, 2, 1};
        System.out.println("输入: nums = " + Arrays.toString(nums1));
        int result1 = singleNumber(nums1);
        System.out.println("输出: " + result1); // 预期输出: 1
        System.out.println();

        System.out.println("--- 示例 2 ---");
        int[] nums2 = {4, 1, 2, 1, 2};
        System.out.println("输入: nums = " + Arrays.toString(nums2));
        int result2 = singleNumber(nums2);
        System.out.println("输出: " + result2); // 预期输出: 4
        System.out.println();

        System.out.println("--- 示例 3 ---");
        int[] nums3 = {1};
        System.out.println("输入: nums = " + Arrays.toString(nums3));
        int result3 = singleNumber(nums3);
        System.out.println("输出: " + result3); // 预期输出: 1
    }
}
```
