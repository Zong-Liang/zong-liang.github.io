---
title: 172. 阶乘后的零
date: 2024-11-10 06:00:00 +0800
categories: [Daily Coding, Top Interview 150, 数学]
tags: [数学]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121235436909.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

## 题目：172. 阶乘后的零

给定一个整数 `n`，返回 `n!` 结果中尾随零的数量。

提示：`n! = n * (n - 1) * (n - 2) * ... * 3 * 2 * 1`

**示例 1:**

- **输入:** `n = 3`
- **输出:** 0
- **解释:** `3! = 6`，不含尾随 0。

**示例 2:**

- **输入:** `n = 5`
- **输出:** 1
- **解释:** `5! = 120`，有一个尾随 0。

**示例 3:**

- **输入:** `n = 0`
- **输出:** 0

**提示:**

- `0 <= n <= 10^4`

**进阶:** 你可以设计并实现对数时间复杂度的算法来解决此问题吗？

## Java 代码

以下是根据“进阶”要求，使用对数时间复杂度实现的解决方案。

**算法思路：**

一个尾随零是由一个因子 10 产生的，而 `10 = 2 * 5`。在 `n!` 的所有质因数中，因子 2 的数量远多于因子 5 的数量。因此，尾随零的数量完全取决于因子 5 的数量。

我们只需要计算从 1 到 n 的所有数字中总共包含多少个因子 5。

- 所有 5 的倍数 (`5, 10, 15, ...`) 贡献一个因子 5。
- 所有 25 的倍数 (`25, 50, 75, ...`) 贡献一个额外的因子 5 (因为 `25 = 5 * 5`)。
- 所有 125 的倍数贡献第三个因子 5，以此类推。

所以，因子 5 的总数是 `n/5 + n/25 + n/125 + ...`。

```java
import java.util.Scanner;


public class Main {

    /**
     * 计算 n! 结果中尾随零的数量。
     * 该算法的时间复杂度为 O(log n)。
     *
     * @param n 给定的非负整数。
     * @return n! 中尾随零的数量。
     */
    public static int trailingZeroes(int n) {
        // 负数没有阶乘定义，但根据题目限制 n >= 0
        if (n < 0) {
            return 0;
        }

        int count = 0;
        // 循环计算 n/5, n/25, n/125 ... 并累加
        while (n >= 5) {
            n /= 5;
            count += n;
        }
        return count;
    }


    public static void main(String[] args) {
        System.out.println("--- 示例 1 ---");
        int n1 = 3;
        System.out.println("输入: n = " + n1);
        int result1 = trailingZeroes(n1);
        System.out.println("输出: " + result1); // 预期输出: 0
        System.out.println();

        System.out.println("--- 示例 2 ---");
        int n2 = 5;
        System.out.println("输入: n = " + n2);
        int result2 = trailingZeroes(n2);
        System.out.println("输出: " + result2); // 预期输出: 1
        System.out.println();

        System.out.println("--- 示例 3 ---");
        int n3 = 0;
        System.out.println("输入: n = " + n3);
        int result3 = trailingZeroes(n3);
        System.out.println("输出: " + result3); // 预期输出: 0
        System.out.println();

        System.out.println("--- 更多测试 ---");
        int n4 = 10;
        System.out.println("输入: n = " + n4);
        int result4 = trailingZeroes(n4);
        System.out.println("输出: " + result4); // 预期输出: 2 (10/5 = 2)
        System.out.println();

        int n5 = 30;
        System.out.println("输入: n = " + n5);
        int result5 = trailingZeroes(n5);
        System.out.println("输出: " + result5); // 预期输出: 7 (30/5 + 30/25 = 6 + 1 = 7)
    }
}
```
