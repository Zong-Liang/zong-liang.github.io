---
title: 2-两数相加
date: 2024-06-23 06:00:00 +0800
categories: [Daily Coding, Top Interview 150, 链表]
tags: [链表]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121230401628.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

好的，这是从图片中整理出的题目描述和解答代码。

### 题目：2. 两数相加

给你两个 **非空** 的链表，表示两个非负的整数。它们每位数字都是按照 **逆序** 的方式存储的，并且每个节点只能存储 **一位** 数字。

请你将两个数相加，并以相同形式返回一个表示和的链表。

你可以假设除了数字 0 之外，这两个数都不会以 0 开头。

---

**示例 1:**
![示例1图片](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2021/01/02/addtwonumber1.jpg)

- **输入:** `l1 = [2,4,3]`, `l2 = [5,6,4]`
- **输出:** `[7,0,8]`
- **解释:** `342 + 465 = 807`.

**示例 2:**

- **输入:** `l1 = [0]`, `l2 = [0]`
- **输出:** `[0]`

**示例 3:**

- **输入:** `l1 = [9,9,9,9,9,9,9]`, `l2 = [9,9,9,9]`
- **输出:** `[8,9,9,9,0,0,0,1]`

---

**提示:**

- 每个链表中的节点数在范围 `[1, 100]` 内
- `0 <= Node.val <= 9`
- 题目数据保证列表表示的数字不含前导零

---

### Java 8 解答 (赛码网格式)

**算法思路：(模拟小学加法)**
这个问题可以看作是模拟我们手动进行竖式加法的过程。由于数字是逆序存储的，链表的头部正好是最低位，非常方便我们从右到左进行计算。

1.  **初始化:**
    - 创建一个虚拟头节点 `dummy` 和一个 `current` 指针，用于构建新的结果链表。
    - 初始化一个进位变量 `carry = 0`。
2.  **迭代相加:**
    - 使用一个循环，只要 `l1` 或 `l2` 还没有遍历完，或者 `carry` 不为 0，就继续执行。
    - 在每次循环中，获取 `l1` 和 `l2` 当前节点的值（如果某个链表已经遍历完，则其值为 0）。
    - 计算当前位的和：`sum = val1 + val2 + carry`。
    - 新链表的当前节点值应为 `sum % 10`。
    - 更新进位 `carry` 为 `sum / 10`。
    - 创建新节点，连接到结果链表，并移动 `current` 指针。
    - 将 `l1` 和 `l2` 的指针向后移动。
3.  **返回结果:**
    - 循环结束后，返回 `dummy.next`，它就是结果链表的头节点。

```java
/**
 * 链表节点的定义
 */
class ListNode {
    int val;
    ListNode next;
    ListNode(int val) { this.val = val; }
}

/**
 * 赛码网要求的标准类名是 Main
 */
public class Main {

    /**
     * 将两个逆序存储数字的链表相加。
     */
    public static ListNode addTwoNumbers(ListNode l1, ListNode l2) {
        // 创建虚拟头节点
        ListNode dummy = new ListNode(0);
        // 创建一个指针用于构建新链表
        ListNode current = dummy;
        int carry = 0;

        // 当 l1, l2 未遍历完，或还有进位时，继续循环
        while (l1 != null || l2 != null || carry != 0) {
            int val1 = (l1 != null) ? l1.val : 0;
            int val2 = (l2 != null) ? l2.val : 0;

            int sum = val1 + val2 + carry;

            carry = sum / 10;
            int digit = sum % 10;

            current.next = new ListNode(digit);
            current = current.next;

            if (l1 != null) l1 = l1.next;
            if (l2 != null) l2 = l2.next;
        }

        return dummy.next;
    }

    // --- 辅助函数，用于测试 ---
    public static ListNode createLinkedList(int[] arr) {
        if (arr == null || arr.length == 0) return null;
        ListNode dummy = new ListNode(0);
        ListNode current = dummy;
        for (int val : arr) {
            current.next = new ListNode(val);
            current = current.next;
        }
        return dummy.next;
    }

    public static void printLinkedList(ListNode head) {
        if (head == null) {
            System.out.println("[]");
            return;
        }
        StringBuilder sb = new StringBuilder("[");
        ListNode current = head;
        while (current != null) {
            sb.append(current.val);
            if (current.next != null) sb.append(",");
            current = current.next;
        }
        sb.append("]");
        System.out.println(sb.toString());
    }

    /**
     * 主函数，包含题目给出的测试用例。
     * @param args 命令行参数（未使用）。
     */
    public static void main(String[] args) {
        System.out.println("--- 示例 1 ---");
        ListNode l1 = createLinkedList(new int[]{2, 4, 3});
        ListNode l2 = createLinkedList(new int[]{5, 6, 4});
        System.out.print("输入: l1 = [2,4,3], l2 = [5,6,4]\n");
        ListNode result1 = addTwoNumbers(l1, l2);
        System.out.print("输出: ");
        printLinkedList(result1); // 预期输出: [7,0,8]
        System.out.println();

        System.out.println("--- 示例 2 ---");
        ListNode l3 = createLinkedList(new int[]{0});
        ListNode l4 = createLinkedList(new int[]{0});
        System.out.print("输入: l1 = [0], l2 = [0]\n");
        ListNode result2 = addTwoNumbers(l3, l4);
        System.out.print("输出: ");
        printLinkedList(result2); // 预期输出: [0]
        System.out.println();

        System.out.println("--- 示例 3 ---");
        ListNode l5 = createLinkedList(new int[]{9,9,9,9,9,9,9});
        ListNode l6 = createLinkedList(new int[]{9,9,9,9});
        System.out.print("输入: l1 = [9,9,9,9,9,9,9], l2 = [9,9,9,9]\n");
        ListNode result3 = addTwoNumbers(l5, l6);
        System.out.print("输出: ");
        printLinkedList(result3); // 预期输出: [8,9,9,9,0,0,0,1]
    }
}
```
