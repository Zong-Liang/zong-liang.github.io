---
title: 242. 有效的字母异位词
date: 2024-05-18 06:00:00 +0800
categories: [Daily Coding, Top Interview 150, 哈希表]
tags: [哈希表]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121225314001.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---


## 题目：242. 有效的字母异位词

**描述**

给定两个字符串 `s` 和 `t` ，编写一个函数来判断 `t` 是否是 `s` 的字母异位词。

**字母异位词** 是由相同字母按不同顺序排列形成的字符串。

**示例 1:**

- **输入:** `s = "anagram"`, `t = "nagaram"`
- **输出:** `true`

**示例 2:**

- **输入:** `s = "rat"`, `t = "car"`
- **输出:** `false`

**提示:**

- `1 <= s.length, t.length <= 5 * 10^4`
- `s` 和 `t` 仅包含小写字母

**进阶:** 如果输入字符串包含 unicode 字符怎么办？你能否调整你的解法来应对这种情况？


## Java 代码

```java
import java.util.Arrays;

public class Main {

    /**
     * 判断字符串 t 是否是 s 的字母异位词。
     * 采用字符计数（哈希表）的方法，时间复杂度为 O(n)。
     *
     * @param s 第一个字符串
     * @param t 第二个字符串
     * @return 如果 t 是 s 的字母异位词，返回 true，否则返回 false
     */
    public static boolean isAnagram(String s, String t) {
        // 1. 如果长度不同，肯定不是字母异位词
        if (s.length() != t.length()) {
            return false;
        }

        // 2. 创建一个大小为 26 的数组来记录每个小写字母出现的次数
        int[] charCounts = new int[26];

        // 3. 遍历第一个字符串 s，增加对应字母的计数
        for (int i = 0; i < s.length(); i++) {
            charCounts[s.charAt(i) - 'a']++;
        }

        // 4. 遍历第二个字符串 t，减少对应字母的计数
        for (int i = 0; i < t.length(); i++) {
            charCounts[t.charAt(i) - 'a']--;
            // 优化：如果在减少之前计数就已经是 0 了，说明 t 中该字母比 s 多，直接返回 false
            if (charCounts[t.charAt(i) - 'a'] < 0) {
                return false;
            }
        }

        // 5. 如果所有流程走完，说明两个字符串包含的字母及数量完全相同
        return true;
    }

    /*
     * 另一种更简洁的解法（排序法），但时间复杂度为 O(n log n)，略高于 O(n)
     *
    public static boolean isAnagramSorting(String s, String t) {
        if (s.length() != t.length()) {
            return false;
        }
        char[] sChars = s.toCharArray();
        char[] tChars = t.toCharArray();
        Arrays.sort(sChars);
        Arrays.sort(tChars);
        return Arrays.equals(sChars, tChars);
    }
    */

    public static void main(String[] args) {
        // 示例 1
        String s1 = "anagram";
        String t1 = "nagaram";
        System.out.println("输入: s = \"" + s1 + "\", t = \"" + t1 + "\"");
        System.out.println("输出: " + isAnagram(s1, t1)); // 预期: true
        System.out.println("---");

        // 示例 2
        String s2 = "rat";
        String t2 = "car";
        System.out.println("输入: s = \"" + s2 + "\", t = \"" + t2 + "\"");
        System.out.println("输出: " + isAnagram(s2, t2)); // 预期: false
        System.out.println("---");
    }
}
```
