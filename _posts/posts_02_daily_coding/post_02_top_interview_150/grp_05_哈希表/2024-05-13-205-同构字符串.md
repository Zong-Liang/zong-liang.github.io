---
title: 205-同构字符串
date: 2024-05-13 06:00:00 +0800
categories: [Daily Coding, Top Interview 150, 哈希表]
tags: [哈希表]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121225107461.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---


### 题目：205. 同构字符串

**描述**
给定两个字符串 `s` 和 `t` ，判断它们是否是同构的。

如果 `s` 中的字符可以按某种映射关系替换得到 `t` ，那么这两个字符串是同构的。

每个出现的字符都应当映射到另一个字符，同时不改变字符的顺序。不同字符不能映射到同一个字符上，相同字符只能映射到同一个字符上，字符可以映射到自己本身。

**示例 1:**

- **输入:** `s = "egg"`, `t = "add"`
- **输出:** `true`

**示例 2:**

- **输入:** `s = "foo"`, `t = "bar"`
- **输出:** `false`

**示例 3:**

- **输入:** `s = "paper"`, `t = "title"`
- **输出:** `true`

**提示:**

- `1 <= s.length <= 5 * 10^4`
- `t.length == s.length`
- `s` 和 `t` 由任意有效的 ASCII 字符组成

---

### 赛码网格式 Java 8 代码

```java
import java.util.HashMap;
import java.util.Map;

public class Main {

    /**
     * 判断两个字符串是否同构。
     * 核心思想是验证两个字符串的字符之间是否存在一个双向的一一映射关系。
     *
     * @param s 第一个字符串
     * @param t 第二个字符串
     * @return 如果同构则返回 true，否则返回 false
     */
    public static boolean isIsomorphic(String s, String t) {
        // 题目提示 s.length == t.length，所以不需要检查长度

        // s_to_t_map 维护从 s 的字符到 t 的字符的映射
        Map<Character, Character> s_to_t_map = new HashMap<>();
        // t_to_s_map 维护从 t 的字符到 s 的字符的映射，用于检查是否有多个 s 字符映射到同一个 t 字符
        Map<Character, Character> t_to_s_map = new HashMap<>();

        for (int i = 0; i < s.length(); i++) {
            char sChar = s.charAt(i);
            char tChar = t.charAt(i);

            // 检查 s -> t 的映射
            if (s_to_t_map.containsKey(sChar)) {
                // 如果 sChar 已有映射，检查其映射值是否为 tChar
                if (s_to_t_map.get(sChar) != tChar) {
                    return false; // 映射冲突
                }
            } else {
                // 如果 sChar 是第一次出现，准备建立新映射 sChar -> tChar
                // 在此之前，必须检查 tChar 是否已经被其他 s 字符映射了
                if (t_to_s_map.containsKey(tChar)) {
                    return false; // tChar 已被占用，违反了一一映射
                }

                // 建立双向映射
                s_to_t_map.put(sChar, tChar);
                t_to_s_map.put(tChar, sChar);
            }
        }

        // 如果遍历完成都没有发现冲突，则说明是同构的
        return true;
    }

    public static void main(String[] args) {
        // 示例 1
        String s1 = "egg";
        String t1 = "add";
        System.out.println("输入: s = \"" + s1 + "\", t = \"" + t1 + "\"");
        System.out.println("输出: " + isIsomorphic(s1, t1)); // 预期: true
        System.out.println("---");

        // 示例 2
        String s2 = "foo";
        String t2 = "bar";
        System.out.println("输入: s = \"" + s2 + "\", t = \"" + t2 + "\"");
        System.out.println("输出: " + isIsomorphic(s2, t2)); // 预期: false
        System.out.println("---");

        // 示例 3
        String s3 = "paper";
        String t3 = "title";
        System.out.println("输入: s = \"" + s3 + "\", t = \"" + t3 + "\"");
        System.out.println("输出: " + isIsomorphic(s3, t3)); // 预期: true
        System.out.println("---");

        // 额外测试用例
        String s4 = "ab";
        String t4 = "aa";
        System.out.println("输入: s = \"" + s4 + "\", t = \"" + t4 + "\"");
        System.out.println("输出: " + isIsomorphic(s4, t4)); // 预期: false
        System.out.println("---");
    }
}
```
