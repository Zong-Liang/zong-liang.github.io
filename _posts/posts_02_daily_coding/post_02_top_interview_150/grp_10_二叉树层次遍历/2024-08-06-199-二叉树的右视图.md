---
title: 199. 二叉树的右视图
date: 2024-08-06 06:00:00 +0800
categories: [Daily Coding, Top Interview 150, 二叉树层次遍历]
tags: [二叉树层次遍历]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121231938878.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---


## 题目：199. 二叉树的右视图

给定一个二叉树的 **根节点** `root`，想象自己站在它的右侧，按照从顶部到底部的顺序，返回从右侧所能看到的节点值。


**示例 1:**

![示例1图片](https://assets.leetcode.com/uploads/2021/02/14/right_view_1.jpg)

- **输入:** `root = [1,2,3,null,5,null,4]`
- **输出:** `[1,3,4]`

**示例 2:**

- **输入:** `root = [1,2,3,4,null,null,null,5]`
- **输出:** `[1,3,4,5]`

**示例 3:**

- **输入:** `root = [1,null,3]`
- **输出:** `[1,3]`

**示例 4:**

- **输入:** `root = []`
- **输出:** `[]`


**提示:**

- 二叉树的节点个数的范围是 `[0,100]`
- `-100 <= Node.val <= 100`


## Java 代码

**算法思路：(广度优先搜索 BFS)**

“右视图”的本质是二叉树 **层序遍历** 的一个变种。我们只需要收集每一层的 **最后一个** 节点即可。

1.  **初始化:**
    - 创建一个队列 `queue` 并将根节点 `root` 加入。
    - 创建一个列表 `result` 来存储右视图的节点值。
2.  **BFS 循环:**
    - 当队列不为空时，进行逐层遍历。
    - 在每一层的开始，记录下当前队列的大小 `levelSize`。
    - 循环 `levelSize` 次，处理当前层的所有节点：
      a. 从队列中取出一个节点 `node`。
      b. **关键点：** 如果当前节点是这一层的 **最后一个** 节点（即 `i == levelSize - 1`），就将它的值加入 `result` 列表。
      c. 将该节点的非空子节点（左、右）加入队列。
3.  循环结束后，`result` 列表就包含了完整的右视图。

```java
import java.util.ArrayList;
import java.util.LinkedList;
import java.util.List;
import java.util.Queue;

/**
 * 二叉树节点的定义
 */
class TreeNode {
    int val;
    TreeNode left;
    TreeNode right;
    TreeNode(int val) { this.val = val; }
}


public class Main {

    /**
     * 返回从二叉树右侧所能看到的节点值。
     */
    public static List<Integer> rightSideView(TreeNode root) {
        List<Integer> result = new ArrayList<>();
        if (root == null) {
            return result;
        }

        Queue<TreeNode> queue = new LinkedList<>();
        queue.offer(root);

        while (!queue.isEmpty()) {
            int levelSize = queue.size();

            for (int i = 0; i < levelSize; i++) {
                TreeNode node = queue.poll();

                // 如果是当前层的最后一个节点，则加入结果列表
                if (i == levelSize - 1) {
                    result.add(node.val);
                }

                // 先加左子节点，再加右子节点
                if (node.left != null) {
                    queue.offer(node.left);
                }
                if (node.right != null) {
                    queue.offer(node.right);
                }
            }
        }

        return result;
    }

    /**
     * 主函数，包含题目给出的测试用例。
     * @param args 命令行参数（未使用）。
     */
    public static void main(String[] args) {
        System.out.println("--- 示例 1 ---");
        TreeNode root1 = new TreeNode(1);
        root1.left = new TreeNode(2);
        root1.right = new TreeNode(3);
        root1.left.right = new TreeNode(5);
        root1.right.right = new TreeNode(4);
        System.out.println("输入: root = [1,2,3,null,5,null,4]");
        List<Integer> result1 = rightSideView(root1);
        System.out.println("输出: " + result1); // 预期输出: [1, 3, 4]
        System.out.println();

        System.out.println("--- 示例 2 ---");
        TreeNode root2 = new TreeNode(1);
        root2.left = new TreeNode(2);
        root2.right = new TreeNode(3);
        root2.left.left = new TreeNode(4);
        root2.left.left.left = new TreeNode(5);
        System.out.println("输入: root = [1,2,3,4,null,null,null,5]");
        List<Integer> result2 = rightSideView(root2);
        System.out.println("输出: " + result2); // 预期输出: [1, 3, 4, 5]
        System.out.println();

        System.out.println("--- 示例 3 ---");
        TreeNode root3 = new TreeNode(1);
        root3.right = new TreeNode(3);
        System.out.println("输入: root = [1,null,3]");
        List<Integer> result3 = rightSideView(root3);
        System.out.println("输出: " + result3); // 预期输出: [1, 3]
        System.out.println();

        System.out.println("--- 示例 4 ---");
        TreeNode root4 = null;
        System.out.println("输入: root = []");
        List<Integer> result4 = rightSideView(root4);
        System.out.println("输出: " + result4); // 预期输出: []
    }
}
```
