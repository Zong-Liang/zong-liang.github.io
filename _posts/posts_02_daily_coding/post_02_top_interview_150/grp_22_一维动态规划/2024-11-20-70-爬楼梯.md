---
title: 70. 爬楼梯
date: 2024-11-20 06:00:00 +0800
categories: [Daily Coding, Top Interview 150, 一维动态规划]
tags: [一维动态规划]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121235654723.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

## 题目：70. 爬楼梯

假设你正在爬楼梯。需要 `n` 阶你才能到达楼顶。

每次你可以爬 `1` 或 `2` 个台阶。你有多少种不同的方法可以爬到楼顶呢？

**示例 1:**

- **输入:** `n = 2`
- **输出:** 2
- **解释:** 有两种方法可以爬到楼顶。
  1.  1 阶 + 1 阶
  2.  2 阶

**示例 2:**

- **输入:** `n = 3`
- **输出:** 3
- **解释:** 有三种方法可以爬到楼顶。
  1.  1 阶 + 1 阶 + 1 阶
  2.  1 阶 + 2 阶
  3.  2 阶 + 1 阶

**提示:**

- `1 <= n <= 45`

## 题解

**算法思路：**

这是一个典型的动态规划问题，其本质是斐波那契数列。

- 要到达第 `n` 级台阶，你只能从第 `n-1` 级台阶（爬 1 阶）或第 `n-2` 级台阶（爬 2 阶）上来。
- 因此，到达第 `n` 级台阶的方法数 `f(n)` 等于到达第 `n-1` 级的方法数与到达第 `n-2` 级的方法数之和，即 `f(n) = f(n-1) + f(n-2)`。
- **基础情况**：
  - `f(1) = 1` (只有一种方法：爬 1 阶)
  - `f(2) = 2` (有两种方法：1+1 或 2)

我们可以使用迭代的方式（滚动数组）来优化空间复杂度，避免递归带来的开销。

```java
import java.util.Scanner;


public class Main {

    /**
     * 计算爬到楼顶的方法数。
     *
     * @param n 楼梯的阶数。
     * @return 不同的方法总数。
     */
    public static int climbStairs(int n) {
        // 基础情况：如果 n 小于等于 2，方法数就等于 n
        if (n <= 2) {
            return n;
        }

        // 使用滚动数组思想优化空间
        // one_step_before 代表 f(i-1)
        // two_steps_before 代表 f(i-2)
        int one_step_before = 2; // f(2)
        int two_steps_before = 1; // f(1)
        int all_ways = 0;

        // 从第 3 阶开始迭代
        for (int i = 3; i <= n; i++) {
            // f(i) = f(i-1) + f(i-2)
            all_ways = one_step_before + two_steps_before;

            // 更新变量以备下次迭代
            two_steps_before = one_step_before;
            one_step_before = all_ways;
        }

        return all_ways;
    }


    public static void main(String[] args) {
        System.out.println("--- 示例 1 ---");
        int n1 = 2;
        System.out.println("输入: n = " + n1);
        int result1 = climbStairs(n1);
        System.out.println("输出: " + result1); // 预期输出: 2
        System.out.println();

        System.out.println("--- 示例 2 ---");
        int n2 = 3;
        System.out.println("输入: n = " + n2);
        int result2 = climbStairs(n2);
        System.out.println("输出: " + result2); // 预期输出: 3
        System.out.println();

        System.out.println("--- 更多测试 ---");
        int n3 = 5;
        System.out.println("输入: n = " + n3);
        int result3 = climbStairs(n3);
        System.out.println("输出: " + result3); // 预期输出: 8
    }
}
```
