---
title: 12. 整数转罗马数字
date: 2024-04-02 06:00:00 +0800
categories: [Daily Coding, Top Interview 150, 数组_字符串]
tags: [数组_字符串]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121223128850.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

## 题目

**描述：**

七个不同的符号代表罗马数字，其值如下：

| 符号 | 值   |
| :--- | :--- |
| I    | 1    |
| V    | 5    |
| X    | 10   |
| L    | 50   |
| C    | 100  |
| D    | 500  |
| M    | 1000 |

罗马数字通常是按照从大到小的顺序书写的。但也存在一些特例，例如 4 不写做 `IIII`，而是 `IV`。数字 1 在 5 的左边，表示 5 减 1 等于 4。同样地，9 表示为 `IX`。这个特殊的规则只适用于以下六种情况：

- `I` 可以放在 `V` (5) 和 `X` (10) 的左边，来表示 4 和 9。
- `X` 可以放在 `L` (50) 和 `C` (100) 的左边，来表示 40 和 90。
- `C` 可以放在 `D` (500) 和 `M` (1000) 的左边，来表示 400 和 900。

给定一个整数，将其转换为罗马数字。

**示例 1:**

- **输入:** `num = 3749`
- **输出:** `"MMMDCCXLIX"`

**示例 2:**

- **输入:** `num = 58`
- **输出:** `"LVIII"`

**示例 3:**

- **输入:** `num = 1994`
- **输出:** `"MCMXCIV"`

**提示:**

- `1 <= num <= 3999`

## 题解

### 解法：贪心算法（模拟）

**思路：**

罗马数字的构造本质上是一种**贪心**策略。我们需要尽可能多地使用值较大的符号来表示数字。

1.  **建立映射表**：

    由于罗马数字存在减法规则（如 4 是 `IV`，900 是 `CM`），为了简化逻辑，我们可以将这些特殊情况视为独立的符号。
    我们将所有可能的数值及其对应的罗马符号按**从大到小**的顺序排列：

    - 1000 -> "M"
    - 900 -> "CM"
    - 500 -> "D"
    - 400 -> "CD"
    - 100 -> "C"
    - 90 -> "XC"
    - 50 -> "L"
    - 40 -> "XL"
    - 10 -> "X"
    - 9 -> "IX"
    - 5 -> "V"
    - 4 -> "IV"
    - 1 -> "I"

2.  **遍历匹配**：

    遍历上述映射表。对于每一个数值 `value` 和符号 `symbol`：

    - 只要当前的 `num` 大于等于 `value`，就将对应的 `symbol` 追加到结果字符串中，并从 `num` 中减去 `value`。
    - 重复此过程，直到 `num` 为 0。

**复杂度分析：**

- **时间复杂度：** $O(1)$。虽然输入 `num` 的大小不同，但由于题目限制 `num <= 3999`，且罗马数字符号表长度固定（13 个），循环次数和结果字符串的长度都是有限的常数（最长也就是 "MMMDCCCLXXXVIII" 这样长度的字符串）。
- **空间复杂度：** $O(1)$。只需要常数空间存储数值和符号的映射表。

**代码片段：**

```java
public String intToRoman(int num) {
    // 定义数值和符号的映射，按值从大到小排列
    int[] values = {1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1};
    String[] symbols = {"M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"};

    StringBuilder sb = new StringBuilder();

    // 遍历每一个符号
    for (int i = 0; i < values.length; i++) {
        // 贪心策略：只要 num 还比当前值大，就扣除当前值，并追加符号
        while (num >= values[i]) {
            num -= values[i];
            sb.append(symbols[i]);
        }
    }

    return sb.toString();
}
```

### 完整代码

```java
public class Main {

    // 核心算法实现：贪心算法
    public static String intToRoman(int num) {
        // 建立查找表，包含所有基本符号和减法规则产生的特殊符号
        // 必须按照从大到小的顺序排列，以满足贪心策略
        int[] values = {1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1};
        String[] symbols = {"M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"};

        StringBuilder sb = new StringBuilder();

        // 遍历所有可能的数值
        for (int i = 0; i < values.length; i++) {
            // 使用 while 循环，因为同一个符号可能连续出现（例如 3 -> III）
            while (num >= values[i]) {
                num -= values[i];
                sb.append(symbols[i]);
            }
            // 如果 num 已经归零，可以提前退出（可选优化）
            if (num == 0) {
                break;
            }
        }

        return sb.toString();
    }

    public static void main(String[] args) {
        // --- 示例 1 ---
        int num1 = 3749;
        System.out.println("示例 1 输入: num = " + num1);
        System.out.println("示例 1 输出: " + intToRoman(num1));
        // 解释: 3000(MMM) + 700(DCC) + 40(XL) + 9(IX)
        System.out.println("-----------------------------");

        // --- 示例 2 ---
        int num2 = 58;
        System.out.println("示例 2 输入: num = " + num2);
        System.out.println("示例 2 输出: " + intToRoman(num2));
        // 解释: 50(L) + 8(VIII)
        System.out.println("-----------------------------");

        // --- 示例 3 ---
        int num3 = 1994;
        System.out.println("示例 3 输入: num = " + num3);
        System.out.println("示例 3 输出: " + intToRoman(num3));
        // 解释: 1000(M) + 900(CM) + 90(XC) + 4(IV)
    }
}
```
