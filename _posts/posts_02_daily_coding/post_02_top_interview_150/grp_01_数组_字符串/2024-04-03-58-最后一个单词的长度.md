---
title: 58. 最后一个单词的长度
date: 2024-04-03 06:00:00 +0800
categories: [Daily Coding, Top Interview 150, 数组_字符串]
tags: [数组_字符串]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121223216349.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

## 题目

**描述：**

给你一个字符串 `s`，由若干单词组成，单词前后用一些空格字符隔开。返回字符串中 **最后一个** 单词的长度。

**单词** 是指仅由字母组成、不包含任何空格字符的最大子字符串。

**示例 1:**

- **输入:** `s = "Hello World"`
- **输出:** 5
- **解释:** 最后一个单词是“World”，长度为 5。

**示例 2:**

- **输入:** `s = "   fly me   to   the moon  "`
- **输出:** 4
- **解释:** 最后一个单词是“moon”，长度为 4。

**示例 3:**

- **输入:** `s = "luffy is still joyboy"`
- **输出:** 6
- **解释:** 最后一个单词是长度为 6 的“joyboy”。

**提示:**

- `1 <= s.length <= 10^4`
- `s` 仅有英文字母和空格 `' '` 组成
- `s` 中至少存在一个单词

## 题解

### 解法：反向遍历

**思路：**

题目要求获取**最后一个**单词的长度。既然目标在字符串的末尾，从后向前遍历是最直观且高效的方法。

1.  **跳过末尾空格**：字符串末尾可能包含若干个空格，我们需要先从下标 `s.length() - 1` 开始向左遍历，跳过所有空格，找到最后一个单词的最后一个字符。
2.  **计算单词长度**：从找到的字符开始继续向左遍历，统计字符数量，直到遇到下一个空格或到达字符串的开头。
3.  统计到的字符数量即为最后一个单词的长度。

**复杂度分析：**

- **时间复杂度：** $O(n)$，其中 $n$ 是字符串的长度。在最坏情况下（例如整个字符串没有空格，或者全是空格），我们需要遍历整个字符串。
- **空间复杂度：** $O(1)$，只需要常数级别的额外空间用于维护索引和长度变量。

**代码片段：**

```java
public int lengthOfLastWord(String s) {
    int index = s.length() - 1;

    // 1. 跳过末尾的空格
    while (index >= 0 && s.charAt(index) == ' ') {
        index--;
    }

    // 2. 统计最后一个单词的长度
    int length = 0;
    while (index >= 0 && s.charAt(index) != ' ') {
        length++;
        index--;
    }

    return length;
}
```

### 完整代码

```java
public class Main {

    // 核心算法实现：反向遍历
    public static int lengthOfLastWord(String s) {
        // 从字符串末尾开始
        int index = s.length() - 1;

        // 步骤 1: 跳过末尾可能存在的空格
        while (index >= 0 && s.charAt(index) == ' ') {
            index--;
        }

        // 步骤 2: 计算最后一个单词的长度
        // 继续向前遍历，直到遇到空格或到达字符串头部
        int length = 0;
        while (index >= 0 && s.charAt(index) != ' ') {
            length++;
            index--;
        }

        return length;
    }

    public static void main(String[] args) {
        // --- 示例 1 ---
        String s1 = "Hello World";
        System.out.println("示例 1 输入: s = \"" + s1 + "\"");
        System.out.println("示例 1 输出: " + lengthOfLastWord(s1));
        System.out.println("-----------------------------");

        // --- 示例 2 ---
        String s2 = "   fly me   to   the moon  ";
        System.out.println("示例 2 输入: s = \"" + s2 + "\"");
        System.out.println("示例 2 输出: " + lengthOfLastWord(s2));
        // 解释: 去掉末尾空格后是 "moon"，长度 4
        System.out.println("-----------------------------");

        // --- 示例 3 ---
        String s3 = "luffy is still joyboy";
        System.out.println("示例 3 输入: s = \"" + s3 + "\"");
        System.out.println("示例 3 输出: " + lengthOfLastWord(s3));
        // 解释: "joyboy" 长度 6
    }
}
```
