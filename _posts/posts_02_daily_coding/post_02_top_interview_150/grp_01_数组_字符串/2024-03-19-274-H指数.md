---
title: 274. H指数
date: 2024-03-19 06:00:00 +0800
categories: [Daily Coding, Top Interview 150, 数组_字符串]
tags: [数组_字符串]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121222551733.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

## 题目

**描述：**

给你一个整数数组 `citations` ，其中 `citations[i]` 表示研究者的第 `i` 篇论文被引用的次数。计算并返回该研究者的 **`h` 指数**。

根据维基百科上 h 指数的定义：`h` 代表“高引用次数”，一名科研人员的 `h` **指数** 是指他（她）至少发表了 `h` 篇论文，并且 **至少** 有 `h` 篇论文被引用次数大于等于 `h` 。如果 `h` 有多种可能的值，**`h` 指数** 是其中最大的那个。

**示例 1:**

- **输入:** `citations = [3,0,6,1,5]`
- **输出:** 3
- **解释:** 给定数组表示研究者总共有 5 篇论文，每篇论文相应的被引用了 3, 0, 6, 1, 5 次。由于研究者有 3 篇论文每篇 **至少** 被引用了 3 次，其余两篇论文每篇被引用 **不多于** 3 次，所以她的 `h` 指数是 3。

**示例 2:**

- **输入:** `citations = [1,3,1]`
- **输出:** 1

**提示:**

- `n == citations.length`
- `1 <= n <= 5000`
- `0 <= citations[i] <= 1000`

## 题解

### 解法一：排序法

**思路：**

首先，我们将引用次数数组 `citations` 从小到大排序。

排序后，我们遍历数组。对于索引 `i`，`citations[i]` 表示第 `i` 篇论文的引用次数。
此时，数组中从下标 `i` 到末尾的论文数量为 `n - i` 篇。

如果 `citations[i] >= n - i`，说明我们找到了至少 `n - i` 篇论文，且每篇论文的引用次数都不小于 `n - i`（因为数组是递增的，后面的引用次数只会更多）。

此时，`n - i` 即为最大的 H 指数。

**复杂度分析：**

- **时间复杂度：** $O(n\log n)$，主要是排序的开销。
- **空间复杂度：** $O(\log n)$，Java 排序算法栈空间开销。

**代码片段：**

```java
public int hIndex(int[] citations) {
    Arrays.sort(citations);
    int n = citations.length;
    for (int i = 0; i < n; i++) {
        // h = n - i 表示当前剩余的论文数量（包括当前这篇）
        int h = n - i;
        // 如果当前论文的引用数 >= 剩余论文数，说明找到了满足条件的最大 h
        if (citations[i] >= h) {
            return h;
        }
    }
    return 0;
}
```

### 解法二：计数排序（桶排序思想）

**思路：**

根据 H 指数的定义，H 指数不可能超过论文的总数 `n`。

因此，如果某篇论文的引用次数超过了 `n`，我们可以将其视为 `n`（这对计算 H 指数没有影响，因为我们只需要知道它“足够大”）。

我们可以利用这一特点，使用空间换时间的策略：

1.  创建一个长度为 `n + 1` 的数组 `counter`。
2.  遍历 `citations`，统计每个引用次数出现的论文数量。如果引用次数大于 `n`，则统计在 `counter[n]` 中。
3.  从后向前（从 `n` 到 `0`）遍历 `counter` 数组，累加论文数量 `total`。
4.  当找到第一个满足 `total >= i` 的 `i` 时，这个 `i` 就是最大的 H 指数。

**复杂度分析：**

- **时间复杂度：** $O(n)$，我们只需要遍历数组两次。
- **空间复杂度：** $O(n)$，需要一个额外的计数数组。

**代码片段：**

```java
public int hIndex(int[] citations) {
    int n = citations.length;
    int[] counter = new int[n + 1];

    // 1. 统计引用次数
    for (int c : citations) {
        if (c >= n) {
            counter[n]++;
        } else {
            counter[c]++;
        }
    }

    // 2. 从后向前累加，寻找 H 指数
    int total = 0;
    for (int i = n; i >= 0; i--) {
        total += counter[i];
        if (total >= i) {
            return i;
        }
    }
    return 0;
}
```

### 完整代码

```java
import java.util.Arrays;

public class Main {

    // 核心算法实现：推荐使用解法二（计数排序法），效率更高
    public static int hIndex(int[] citations) {
        int n = citations.length;
        // counter[i] 表示引用次数为 i 的论文有几篇
        // counter[n] 表示引用次数 >= n 的论文有几篇
        int[] counter = new int[n + 1];

        for (int c : citations) {
            if (c >= n) {
                counter[n]++;
            } else {
                counter[c]++;
            }
        }

        int total = 0;
        // 从高分向低分遍历
        for (int i = n; i >= 0; i--) {
            total += counter[i]; // 引用次数至少为 i 的论文数量
            if (total >= i) {
                return i;
            }
        }
        return 0;
    }

    // 备选算法：排序法
    public static int hIndexSorted(int[] citations) {
        Arrays.sort(citations);
        int n = citations.length;
        for (int i = 0; i < n; i++) {
            int h = n - i;
            if (citations[i] >= h) {
                return h;
            }
        }
        return 0;
    }

    public static void main(String[] args) {
        // --- 示例 1 ---
        int[] citations1 = new int[]{3, 0, 6, 1, 5};

        System.out.println("示例 1 输入:");
        System.out.println("citations = " + Arrays.toString(citations1));

        int result1 = hIndex(citations1);

        System.out.println("示例 1 输出: " + result1);
        System.out.println("-----------------------------");

        // --- 示例 2 ---
        int[] citations2 = new int[]{1, 3, 1};

        System.out.println("示例 2 输入:");
        System.out.println("citations = " + Arrays.toString(citations2));

        int result2 = hIndex(citations2);

        System.out.println("示例 2 输出: " + result2);
    }
}
```
