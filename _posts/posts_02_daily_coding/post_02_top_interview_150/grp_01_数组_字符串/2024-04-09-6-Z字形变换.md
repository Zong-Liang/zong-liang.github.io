---
title: 6-Z字形变换
date: 2024-04-09 06:00:00 +0800
categories: [Daily Coding, Top Interview 150, 数组_字符串]
tags: [数组_字符串]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121223440271.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---


### 题目：6. Z 字形变换

**描述**
将一个给定字符串 `s` 根据给定的行数 `numRows` ，以从上往下、从左到右进行 Z 字形排列。

比如输入字符串为 `"PAYPALISHIRING"` 行数为 3 时，排列如下：

```
P   A   H   N
A P L S I I G
Y   I   R
```

之后，你的输出需要从左往右逐行读取，产生出一个新的字符串，比如：`"PAHNAPLSIIGYIR"`。

请你实现这个将字符串进行指定行数变换的函数：
`string convert(string s, int numRows);`

**示例 1:**

- **输入:** `s = "PAYPALISHIRING"`, `numRows = 3`
- **输出:** `"PAHNAPLSIIGYIR"`

**示例 2:**

- **输入:** `s = "PAYPALISHIRING"`, `numRows = 4`
- **输出:** `"PINALSIGYAHRPIR"`
- **解释:**
  ```
  P     I    N
  A   L S  I G
  Y A   H R
  P     I
  ```

**示例 3:**

- **输入:** `s = "A"`, `numRows = 1`
- **输出:** `"A"`

**提示:**

- `1 <= s.length <= 1000`
- `s` 由英文字母（小写和大写）、`,` 和 `.` 组成
- `1 <= numRows <= 1000`

---

### 赛码网格式 Java 8 代码

```java
import java.util.ArrayList;
import java.util.List;

public class Main {

    /**
     * 将字符串 s 按照 Z 字形排列后，按行重新组合成新字符串。
     *
     * @param s        原始字符串
     * @param numRows  指定的行数
     * @return 变换后的字符串
     */
    public static String convert(String s, int numRows) {
        // 如果行数为1，或者字符串长度小于等于行数，则无需变换
        if (numRows == 1 || s.length() <= numRows) {
            return s;
        }

        // 创建一个列表，其中每个元素是一个 StringBuilder，代表 Z 字形的一行
        List<StringBuilder> rows = new ArrayList<>();
        for (int i = 0; i < numRows; i++) {
            rows.add(new StringBuilder());
        }

        int currentRow = 0;
        boolean goingDown = false; // 方向标志

        // 遍历字符串 s 中的每个字符
        for (char c : s.toCharArray()) {
            // 将字符附加到当前行的 StringBuilder
            rows.get(currentRow).append(c);

            // 如果到达顶部或底部，则改变方向
            if (currentRow == 0 || currentRow == numRows - 1) {
                goingDown = !goingDown;
            }

            // 根据方向更新当前行号
            currentRow += goingDown ? 1 : -1;
        }

        // 将所有行的 StringBuilder 合并成一个结果字符串
        StringBuilder result = new StringBuilder();
        for (StringBuilder row : rows) {
            result.append(row);
        }

        return result.toString();
    }

    public static void main(String[] args) {
        // 示例 1
        String s1 = "PAYPALISHIRING";
        int numRows1 = 3;
        System.out.println("输入: s = \"" + s1 + "\", numRows = " + numRows1);
        System.out.println("输出: \"" + convert(s1, numRows1) + "\""); // 预期: "PAHNAPLSIIGYIR"
        System.out.println("---");

        // 示例 2
        String s2 = "PAYPALISHIRING";
        int numRows2 = 4;
        System.out.println("输入: s = \"" + s2 + "\", numRows = " + numRows2);
        System.out.println("输出: \"" + convert(s2, numRows2) + "\""); // 预期: "PINALSIGYAHRPIR"
        System.out.println("---");

        // 示例 3
        String s3 = "A";
        int numRows3 = 1;
        System.out.println("输入: s = \"" + s3 + "\", numRows = " + numRows3);
        System.out.println("输出: \"" + convert(s3, numRows3) + "\""); // 预期: "A"
        System.out.println("---");
    }
}
```
