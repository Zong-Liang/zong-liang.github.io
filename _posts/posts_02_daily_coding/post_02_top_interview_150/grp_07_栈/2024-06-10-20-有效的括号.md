---
title: 20-有效的括号
date: 2024-06-10 06:00:00 +0800
categories: [Daily Coding, Top Interview 150, 栈]
tags: [栈]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121225821828.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

好的，这是图片中问题的整理以及符合要求的 Java 8 解答。

### 题目：20. 有效的括号

**描述**
给定一个只包括 `'('`，`')'`，`'{'`，`'}'`，`'['`，`']'` 的字符串 `s` ，判断字符串是否有效。

有效字符串需满足：

1.  左括号必须用相同类型的右括号闭合。
2.  左括号必须以正确的顺序闭合。
3.  每个右括号都有一个对应的相同类型的左括号。

**示例 1:**

- **输入:** `s = "()"`
- **输出:** `true`

**示例 2:**

- **输入:** `s = "()[]{}"`
- **输出:** `true`

**示例 3:**

- **输入:** `s = "(]"`
- **输出:** `false`

**示例 4:**

- **输入:** `s = "([)]"`
- **输出:** `false`

**示例 5:**

- **输入:** `s = "{[]}"`
- **输出:** `true`

**提示:**

- `1 <= s.length <= 10^4`
- `s` 仅由括号 `'()[]{}'` 组成

---

### 赛码网格式 Java 8 代码

```java
import java.util.Stack;

public class Main {

    /**
     * 判断给定的括号字符串是否有效。
     *
     * @param s 只包含 '(', ')', '{', '}', '[' 和 ']' 的字符串
     * @return 如果字符串有效则返回 true，否则返回 false
     */
    public static boolean isValid(String s) {
        // 括号字符串长度为奇数，肯定无效
        if (s.length() % 2 != 0) {
            return false;
        }

        // 使用栈来匹配括号
        Stack<Character> stack = new Stack<>();

        for (char c : s.toCharArray()) {
            if (c == '(') {
                stack.push(')');
            } else if (c == '[') {
                stack.push(']');
            } else if (c == '{') {
                stack.push('}');
            } else {
                // 如果栈为空，或者栈顶的右括号与当前字符不匹配
                if (stack.isEmpty() || stack.pop() != c) {
                    return false;
                }
            }
        }

        // 如果遍历结束后，栈为空，则说明所有括号都正确匹配
        return stack.isEmpty();
    }

    public static void main(String[] args) {
        // 示例 1
        String s1 = "()";
        System.out.println("输入: \"" + s1 + "\", 输出: " + isValid(s1)); // 预期: true

        // 示例 2
        String s2 = "()[]{}";
        System.out.println("输入: \"" + s2 + "\", 输出: " + isValid(s2)); // 预期: true

        // 示例 3
        String s3 = "(]";
        System.out.println("输入: \"" + s3 + "\", 输出: " + isValid(s3)); // 预期: false

        // 示例 4
        String s4 = "([)]";
        System.out.println("输入: \"" + s4 + "\", 输出: " + isValid(s4)); // 预期: false

        // 示例 5
        String s5 = "{[]}";
        System.out.println("输入: \"" + s5 + "\", 输出: " + isValid(s5)); // 预期: true

        // 额外测试用例
        String s6 = "(([]))";
        System.out.println("输入: \"" + s6 + "\", 输出: " + isValid(s6)); // 预期: true

        String s7 = "[";
        System.out.println("输入: \"" + s7 + "\", 输出: " + isValid(s7)); // 预期: false
    }
}
```
