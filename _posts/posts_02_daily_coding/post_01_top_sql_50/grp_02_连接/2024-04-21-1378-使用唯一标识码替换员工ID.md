---
title: 1378. 使用唯一标识码替换员工ID
date: 2024-04-21 06:00:00 +0800
categories: [Daily Coding, Top SQL 50, 连接]
tags: [连接]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121162136032.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

## 题目：1378. 使用唯一标识码替换员工 ID

**表:** `Employees`

| Column Name | Type    |
| ----------- | ------- |
| id          | int     |
| name        | varchar |

- 在 SQL 中, `id` 是这张表的主键。
- 这张表的每一行分别代表了某公司其中一位员工的名字和 ID 。

**表:** `EmployeeUNI`

| Column Name | Type |
| ----------- | ---- |
| id          | int  |
| unique_id   | int  |

- 在 SQL 中, `(id, unique_id)` 是这张表的主键。
- 这张表的每一行包含了一该公司某位员工的 ID 和他的唯一标识码 (unique ID)。

**问题描述:**

展示每位用户的唯一标识码（unique ID）；如果某位员工没有唯一标识码，使用 `null` 填充即可。

你可以以 **任意** 顺序返回结果表。


**示例 1:**

**输入:**
`Employees` 表:

| id  | name     |
| --- | -------- |
| 1   | Alice    |
| 7   | Bob      |
| 11  | Meir     |
| 90  | Winston  |
| 3   | Jonathan |

`EmployeeUNI` 表:

| id  | unique_id |
| --- | --------- |
| 3   | 1         |
| 11  | 2         |
| 90  | 3         |

**输出:**

| unique_id | name     |
| --------- | -------- |
| null      | Alice    |
| null      | Bob      |
| 2         | Meir     |
| 3         | Winston  |
| 1         | Jonathan |

**解释:**
Alice 和 Bob 没有唯一标识码, 因此我们使用 null 替代。
Meir 的唯一标识码是 2。
Winston 的唯一标识码是 3。
Jonathan 唯一标识码是 1。


## 正确答案 (MySQL)

您需要使用 `LEFT JOIN` 将 `Employees` 表与 `EmployeeUNI` 表连接起来。`LEFT JOIN` 可以确保即使员工没有唯一的标识码，他们仍然会出现在结果中。

```sql
SELECT eu.unique_id,
       e.name
FROM Employees e
         LEFT JOIN
     EmployeeUNI eu ON e.id = eu.id;
```

**查询逻辑分解:**

1. **`FROM Employees e LEFT JOIN EmployeeUNI eu ON e.id = eu.id`**:

   - 我们使用 `LEFT JOIN` 从 `Employees` 表 (别名为 `e`) 连接到 `EmployeeUNI` 表 (别名为 `eu`)。
   - `LEFT JOIN` 是此题的关键，因为它会返回所有左表（`Employees`）的记录，即使在右表（`EmployeeUNI`）中没有基于连接条件
     `e.id = eu.id` 的匹配记录。
   - 对于那些在 `EmployeeUNI` 表中没有记录的员工（如 Alice 和 Bob），连接后的 `eu.unique_id` 列的值将自动为 `NULL`
     ，这正好满足了题目的要求。

2. **`SELECT eu.unique_id, e.name`**:
   - 从连接后的结果中，我们选择所需的列：
     - `eu.unique_id`：来自 `EmployeeUNI` 表的唯一标识码（对于没有匹配的员工，此值为 `NULL`）。
     - `e.name`：来自 `Employees` 表的员工姓名。
