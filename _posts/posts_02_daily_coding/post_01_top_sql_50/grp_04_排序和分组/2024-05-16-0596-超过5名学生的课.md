---
title: 0596. 超过 5 名学生的课
date: 2024-05-16 06:00:00 +0800
categories: [Daily Coding, Top SQL 50, 排序和分组]
tags: [排序和分组]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121164429450.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

## 题目：0596. 超过 5 名学生的课

**表:** `Courses`

| Column Name | Type    |
| ----------- | ------- |
| student     | varchar |
| class       | varchar |

- `(student, class)` 是该表的主键（不同值的列的组合）。
- 该表的每一行表示学生的名字和他们注册的班级。

**问题描述:**

查询 **至少有 5 个学生** 的所有班级。

以 **任意顺序** 返回结果表。

**示例 1:**

**输入:**

`Courses` table:

| student | class    |
| ------- | -------- |
| A       | Math     |
| B       | English  |
| C       | Math     |
| D       | Biology  |
| E       | Math     |
| F       | Computer |
| G       | Math     |
| H       | Math     |
| I       | Math     |

**输出:**

| class |
| ----- |
| Math  |

**解释:**

- 数学课有 6 个学生，所以我们包括它。
- 英语课有 1 名学生，所以我们不包括它。
- 生物课有 1 名学生，所以我们不包括它。
- 计算机课有 1 个学生，所以我们不包括它。

## 题解

你可以使用 `GROUP BY` 按班级对学生进行分组，然后使用 `HAVING` 子句筛选出学生人数大于或等于 5 的班级。

```sql
SELECT class
FROM Courses
GROUP BY class
HAVING COUNT(student) >= 5;
```

**查询逻辑分解:**

1. **`SELECT class`**:

   - 我们的目标是找出符合条件的班级名称。

2. **`FROM Courses`**:

   - 指定从 `Courses` 表中查询数据。

3. **`GROUP BY class`**:

   - 将 `Courses` 表中具有相同 `class` 名称的所有行组合成一个单独的组。这允许我们对每个班级进行聚合计算。

4. **`HAVING COUNT(student) >= 5`**:

   - 这是在分组后对结果进行筛选的关键部分。
   - `COUNT(student)`: 计算每个班级分组中的学生人数。
   - `>= 5`: `HAVING` 子句筛选出那些学生人数大于或等于 5 的分组（班级）。
