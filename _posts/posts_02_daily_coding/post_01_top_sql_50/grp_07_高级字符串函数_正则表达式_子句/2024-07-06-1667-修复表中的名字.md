---
title: 1667. 修复表中的名字
date: 2024-07-06 06:00:00 +0800
categories: [Daily Coding, Top SQL 50, 高级字符串函数_正则表达式_子句]
tags: [高级字符串函数_正则表达式_子句]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121171601864.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

## 题目：1667. 修复表中的名字

**表:** `Users`

| Column Name | Type    |
| ----------- | ------- |
| user_id     | int     |
| name        | varchar |

`user_id` 是该表的主键（具有唯一值的列）。
该表包含用户的 ID 和名字。名字仅由小写和大写字符组成。

**问题描述:**

编写解决方案，修复名字，使得只有第一个字符是大写的，其余都是小写的。

返回按 `user_id` 排序的结果表。

**示例 1:**

**输入:**
`Users` table:

| user_id | name  |
| ------- | ----- |
| 1       | aLice |
| 2       | bOB   |

**输出:**

| user_id | name  |
| ------- | ----- |
| 1       | Alice |
| 2       | Bob   |

## 正确答案 (MySQL)

你可以使用字符串函数 `UPPER()`, `LOWER()`, `SUBSTRING()` 和 `CONCAT()` 来格式化名字。

```sql
SELECT user_id,
       CONCAT(UPPER(SUBSTRING(name, 1, 1)), LOWER(SUBSTRING(name, 2))) AS name
FROM Users
ORDER BY user_id;
```

**查询逻辑分解:**

- `SELECT user_id, ... FROM Users`: 从 `Users` 表中选择 `user_id`。
- `SUBSTRING(name, 1, 1)`: 提取 `name` 字段的第一个字符。
- `UPPER(...)`: 将提取出的第一个字符转换为大写。
- `SUBSTRING(name, 2)`: 提取 `name` 字段从第二个字符开始到末尾的所有字符。
- `LOWER(...)`: 将提取出的剩余字符全部转换为小写。
- `CONCAT(..., ...)`: 将转换后的大写首字母和转换后的小写剩余部分拼接成一个新的字符串。
- `AS name`: 将格式化后的新字符串重命名为 `name`。
- `ORDER BY user_id`: 按 `user_id` 对结果进行排序。
