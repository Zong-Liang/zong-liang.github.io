---
title: 0610. 判断三角形
date: 2024-06-01 06:00:00 +0800
categories: [Daily Coding, Top SQL 50, 高级查询和连接]
tags: [高级查询和连接]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251121165224690.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

## 题目：0610. 判断三角形

**表:** `Triangle`

| Column Name | Type |
| ----------- | ---- |
| x           | int  |
| y           | int  |
| z           | int  |

- 在 SQL 中, `(x, y, z)` 是该表的主键列。
- 该表的每一行包含三个线段的长度。

**问题描述:**

对每三个线段报告它们是否可以形成一个三角形。

以 **任意顺序** 返回结果表。

**示例 1:**

**输入:**
`Triangle` 表:

| x   | y   | z   |
| --- | --- | --- |
| 13  | 15  | 30  |
| 10  | 20  | 15  |

**输出:**

| x   | y   | z   | triangle |
| --- | --- | --- | -------- |
| 13  | 15  | 30  | No       |
| 10  | 20  | 15  | Yes      |

## 正确答案 (MySQL)

你可以使用 `CASE` 语句来检查构成三角形的条件（任意两边之和大于第三边）。

```sql
SELECT x,
       y,
       z,
       CASE
           WHEN x + y > z AND x + z > y AND y + z > x THEN 'Yes'
           ELSE 'No'
           END AS triangle
FROM Triangle;
```

**查询逻辑分解:**

1. **`SELECT x, y, z, ...`**: 从 `Triangle` 表中选取 `x`, `y`, `z` 三列。
2. **`CASE ... END AS triangle`**: 使用 `CASE` 语句创建一个名为 `triangle` 的新列，其值根据条件动态生成。
3. **`WHEN x + y > z AND x + z > y AND y + z > x THEN 'Yes'`**: 这是判断能否构成三角形的条件。根据三角形不等边定理，任意两边之和必须大于第三边。如果这个条件成立，则
   `triangle` 列的值为 'Yes'。
4. **`ELSE 'No'`**: 如果上述条件不成立，则 `triangle` 列的值为 'No'。
