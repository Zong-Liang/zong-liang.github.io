---
title: Java数组
date: 2024-06-05 06:00:00 +0800
categories: [Daily Coding, Coding Tips, Java数组]
tags: [Java数组]
toc: true
math: true
pin: false
render_with_liquid: false
image:
  path: https://cdn.jsdelivr.net/gh/Zong-Liang/blog_images/blog/2024/daily_coding/20251123142657264.png
  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
---

数组是 Java 中用于存储固定大小的同类型元素集合的基础数据结构。

## 核心要点总结

- **固定大小**：一旦数组被创建，其长度就不能再改变。
- **相同类型**：一个数组只能存储声明时指定的同一种数据类型的元素。
- **零基索引**：数组的索引（下标）永远从 `0` 开始。
- **`.length` 属性**：使用 `array.length` 来获取数组的长度。
- **`Arrays` 工具类**：`java.util.Arrays` 是你操作数组最好的朋友，它提供了排序、搜索、打印、复制等极其有用的功能，请务必掌握它。
- **`ArrayIndexOutOfBoundsException`**：这是使用数组时最常见的运行时异常，当你试图访问一个小于 0 或大于等于数组长度的索引时会发生。

## Java 代码

```java
import java.util.Arrays;

/**
 * @author zongliang_i
 */
public class Main {
    public static void main(String[] args) {
        System.out.println("--- 1. 一维数组的声明、创建与初始化 ---");
        demonstrateArrayCreation();

        System.out.println("\n--- 2. 数组的访问与遍历 ---");
        demonstrateArrayUsage();

        System.out.println("\n--- 3. 强大的 `java.util.Arrays` 工具类 ---");
        demonstrateArraysUtilityClass();

        System.out.println("\n--- 4. 多维数组 (以二维数组为例) ---");
        demonstrateMultiDimensionalArrays();

        System.out.println("\n--- 5. 数组的常见陷阱：索引越界 ---");
        demonstrateArrayPitfalls();
    }

    /**
     * 1. 演示一维数组的三种主要创建与初始化方式
     */
    public static void demonstrateArrayCreation() {
        // 方式一：动态初始化
        // 先指定数组的长度，系统会为数组元素分配默认值。
        // (int: 0, double: 0.0, boolean: false, char: '\u0000', 引用类型: null)
        int[] numbers = new int[5]; // 创建一个长度为5的int数组
        System.out.println("动态初始化 (new int[5]) - 默认值: " + Arrays.toString(numbers));
        numbers[0] = 10; // 后续可以为元素赋值
        System.out.println("赋值后: " + Arrays.toString(numbers));

        // 方式二：静态初始化 (标准)
        // 在创建数组的同时就为其元素赋值。
        String[] fruits = new String[]{"Apple", "Banana", "Orange"};
        System.out.println("静态初始化 (标准): " + Arrays.toString(fruits));

        // 方式三：静态初始化 (简化/字面量)
        // 这是最常用的方式，是方式二的简化写法。
        double[] scores = {98.5, 89.0, 75.5, 100.0};
        System.out.println("静态初始化 (简化): " + Arrays.toString(scores));
    }

    /**
     * 2. 演示数组元素的访问和两种主要的遍历方式
     */
    public static void demonstrateArrayUsage() {
        String[] heroes = {"Iron Man", "Captain America", "Thor", "Hulk"};

        // 访问数组元素
        // 数组的索引从 0 开始。所以第一个元素的索引是0，最后一个是 length - 1。
        System.out.println("第一个英雄 (索引0): " + heroes[0]);
        System.out.println("第三个英雄 (索引2): " + heroes[2]);

        // 获取数组长度
        // 使用 .length 属性 (注意：它不是方法，所以没有括号)
        System.out.println("数组的长度: " + heroes.length);

        // 遍历方式一：传统 for 循环
        // 优点：可以方便地获取当前元素的索引。
        System.out.println("使用传统 for 循环遍历:");
        for (int i = 0; i < heroes.length; i++) {
            System.out.println("  索引 " + i + ": " + heroes[i]);
        }

        // 遍历方式二：增强 for 循环 (For-Each Loop)
        // 优点：语法更简洁，不易出错。推荐在不需要索引时使用。
        System.out.println("使用增强 for 循环遍历:");
        for (String hero : heroes) {
            System.out.println("  英雄: " + hero);
        }
    }

    /**
     * 3. 演示 java.util.Arrays 工具类中的核心静态方法
     */
    public static void demonstrateArraysUtilityClass() {
        int[] data = {5, 2, 8, 1, 9, 4};
        System.out.println("原始数组: " + Arrays.toString(data)); // Arrays.toString() 是打印数组内容最方便的方式

        // 排序 (Sorting)
        Arrays.sort(data); // 对数组进行升序排序 (原地修改)
        System.out.println("排序后的数组: " + Arrays.toString(data));

        // 搜索 (Searching)
        // 使用二分查找法，前提是数组必须已经排好序！
        int index = Arrays.binarySearch(data, 8); // 在排序后的数组中查找8
        System.out.println("元素 '8' 的索引是: " + index);
        int missingIndex = Arrays.binarySearch(data, 3); // 查找一个不存在的元素
        System.out.println("查找不存在的元素 '3' 的结果: " + missingIndex); // 返回一个负数

        // 填充 (Filling)
        int[] filledArray = new int[5];
        Arrays.fill(filledArray, 100); // 将数组的所有元素都设置为100
        System.out.println("填充后的数组: " + Arrays.toString(filledArray));

        // 比较 (Comparing)
        int[] arr1 = {1, 2, 3};
        int[] arr2 = {1, 2, 3};
        boolean areEqual = Arrays.equals(arr1, arr2); // 比较两个数组的内容是否完全相同
        System.out.println("arr1 和 arr2 的内容是否相等? " + areEqual);

        // 复制 (Copying)
        int[] original = {1, 2, 3, 4, 5};
        int[] newCopy = Arrays.copyOf(original, 3); // 复制前3个元素
        System.out.println("复制前3个元素得到的新数组: " + Arrays.toString(newCopy));
    }

    /**
     * 4. 演示二维数组的创建和使用
     */
    public static void demonstrateMultiDimensionalArrays() {
        // 二维数组本质上是 "数组的数组"
        // 这是一个 3x4 的二维数组 (3行4列)
        int[][] matrix = {
            {1, 2, 3, 4},
            {5, 6, 7, 8},
            {9, 10, 11, 12}
        };

        System.out.println("访问第2行第3列的元素 (matrix[1][2]): " + matrix[1][2]); // 应该是 7

        // 遍历二维数组需要使用嵌套循环
        System.out.println("遍历二维数组:");
        for (int i = 0; i < matrix.length; i++) { // matrix.length 是行的数量
            for (int j = 0; j < matrix[i].length; j++) { // matrix[i].length 是第 i 行的列数
                System.out.print(matrix[i][j] + "\t"); // 使用 \t 来对齐
            }
            System.out.println(); // 每打印完一行后换行
        }
    }

    /**
     * 5. 演示数组最常见的异常：ArrayIndexOutOfBoundsException
     */
    public static void demonstrateArrayPitfalls() {
        int[] simpleArray = {10, 20, 30};
        System.out.println("数组内容: " + Arrays.toString(simpleArray) + ", 长度为: " + simpleArray.length);
        System.out.println("有效索引范围是 0 到 " + (simpleArray.length - 1));

        try {
            // 尝试访问一个不存在的索引
            System.out.println("尝试访问索引为 3 的元素...");
            int value = simpleArray[3];
            System.out.println("元素值为: " + value);
        } catch (ArrayIndexOutOfBoundsException e) {
            System.err.println("错误: 发生了数组索引越界异常!");
            System.err.println("异常信息: " + e.getMessage());
        }
    }
}

```

理解数组是学习更复杂数据结构（如 ArrayList）的基石。
